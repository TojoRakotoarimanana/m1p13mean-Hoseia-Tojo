<div class="register-wrapper">
    <p-card [style]="{ width: '100%', maxWidth: '450px' }">
        <ng-template pTemplate="title">
            <div class="text-center mt-3">
                <span style="font-size: 1.5rem; font-weight: 600;">Créer un compte</span>
                <p class="text-secondary text-sm font-normal mt-2">Rejoignez-nous dès maintenant</p>
            </div>
        </ng-template>

        <p-toast></p-toast>
        <form (ngSubmit)="onSubmit()" #registerForm="ngForm" class="register-form flex flex-column gap-3">
            <div class="flex gap-3">
                <div class="field flex-1">
                    <p-floatLabel>
                        <p-iconField iconPosition="left">
                            <p-inputIcon styleClass="pi pi-user" />
                            <input pInputText id="firstName" [(ngModel)]="registerData.firstName" name="firstName" required class="w-full" />
                        </p-iconField>
                        <label for="firstName">Prénom</label>
                    </p-floatLabel>
                </div>

                <div class="field flex-1">
                    <p-floatLabel>
                        <p-iconField iconPosition="left">
                            <p-inputIcon styleClass="pi pi-user" />
                            <input pInputText id="lastName" [(ngModel)]="registerData.lastName" name="lastName" required class="w-full" />
                        </p-iconField>
                        <label for="lastName">Nom</label>
                    </p-floatLabel>
                </div>
            </div>

            <div class="field">
                <p-floatLabel>
                    <p-iconField iconPosition="left">
                        <p-inputIcon styleClass="pi pi-envelope" />
                        <input pInputText id="email" [(ngModel)]="registerData.email" name="email" required email class="w-full" />
                    </p-iconField>
                    <label for="email">Email</label>
                </p-floatLabel>
            </div>

            <div class="field">
                <p-floatLabel>
                    <p-iconField iconPosition="left">
                        <p-inputIcon styleClass="pi pi-lock" />
                        <p-password id="password" [(ngModel)]="registerData.password" name="password" [toggleMask]="true"
                            [feedback]="true" [weakLabel]="'Faible'" [mediumLabel]="'Moyen'" [strongLabel]="'Fort'"
                            promptLabel="Mot de passe" styleClass="w-full" inputStyleClass="w-full" required [minlength]="6"></p-password>
                    </p-iconField>
                    <label for="password">Mot de passe</label>
                </p-floatLabel>
            </div>

            <div class="field">
                <p-floatLabel>
                    <p-iconField iconPosition="left">
                        <p-inputIcon styleClass="pi pi-lock" />
                        <p-password id="confirmPassword" [(ngModel)]="registerData.confirmPassword" name="confirmPassword" [toggleMask]="true"
                            [feedback]="false" styleClass="w-full" inputStyleClass="w-full" required></p-password>
                    </p-iconField>
                    <label for="confirmPassword">Confirmer le mot de passe</label>
                </p-floatLabel>
            </div>

            <div class="mt-2">
                <p-button label="S'inscrire" type="submit" [disabled]="!registerForm.form.valid || isLoading" [loading]="isLoading" styleClass="w-full"></p-button>
            </div>

            <div class="footer-link text-center mt-3">
                <span class="text-600">Déjà inscrit ?</span> 
                <a routerLink="/login" class="font-bold ml-1 cursor-pointer">Se connecter</a>
            </div>
        </form>
    </p-card>
</div>